/**
 * jQuery WP-SmartCrop v1.4.4
 * Copyright (c) 2017 Greg Schoppe
 * License: http://www.opensource.org/licenses/mit-license.php
 **/
!function(t){t.fn.extend({wpsmartcrop:function(i){function a(t,i){for(var a=i[0],e=Math.abs(t-a),n=0;n<i.length;n++){var r=Math.abs(t-i[n]);r<e&&(e=r,a=i[n])}return a}function e(t,i){var a=t[0]/t[1];return a>i[0]/i[1]?[Math.round(i[1]*a),i[1]]:[i[0],Math.round(i[0]/a)]}function n(t){var i=function(t,i,e){var n=a(e/=100,[.33333,.5,.66667]),r=Math.round(e*i-n*t),o=i-t;return r>o&&(r=o),r<0&&(r=0),-1*r},n=t.data("smartcrop-focus"),r=[t[0].naturalWidth?t[0].naturalWidth:t[0].getAttribute("width"),t[0].naturalHeight?t[0].naturalHeight:t[0].getAttribute("height")],o=[t.width(),t.height()];if(!n||n.length<2||!r[0]||!r[1]||!o[0]||!o[1])return!1;var c=e(r,o),s=[0,0];return o[0]/o[1]<c[0]/c[1]?s[0]=i(o[0],c[0],n[0]):s[1]=i(o[1],c[1],n[1]),{final_width:c[0],final_height:c[1],offset_x:s[0],offset_y:s[1]}}function r(t,i){var a=n(t);if(i){var e=a.offset_x+"px "+a.offset_y+"px";t.css({"-o-object-position":e,"object-position":e}),t.addClass("wpsmartcrop-rendered")}else{var r=t.position(),o=t.next(".wpsmartcrop-overlay"),c=o.find("img");o.css({width:t.width()+"px",height:t.height()+"px",top:r.top+"px",left:r.left+"px"}),c.css({width:a.final_width+"px",height:a.final_height+"px",top:a.offset_y+"px",left:a.offset_x+"px"}),o.addClass("wpsmartcrop-overlay-rendered")}}for(var i=t.extend({focal_point:null,compatibility:null},i),o=0,c=["webkit","moz"],s=window.requestAnimationFrame,u=window.cancelAnimationFrame,f=0;f<c.length&&!s;++f)s=window[c[f]+"RequestAnimationFrame"],u=window[c[f]+"CancelAnimationFrame"]||window[c[f]+"CancelRequestAnimationFrame"];s||(s=function(t,i){var a=(new Date).getTime(),e=Math.max(0,16-(a-o)),n=window.setTimeout(function(){t(a+e)},e);return o=a+e,n}),u||(u=function(t){clearTimeout(t)});var d=function(){var t=document.createElement("div");return"objectFit"in t.style&&"objectPosition"in t.style||"OobjectFit"in t.style&&"OobjectPosition"in t.style}();return this.each(function(){var a=t(this);if(a.is("img")){var e=[a[0].naturalWidth?a[0].naturalWidth:a[0].getAttribute("width"),a[0].naturalHeight?a[0].naturalHeight:a[0].getAttribute("height")];if(0!=e[0]&&0!=e[1]){a.data("wpsmartcrop-natural-dims",e),a.next("wpsmartcrop-overlay").remove(),i.focal_point?a.data("smartcrop-focus",i.focal_point):a.data("smartcrop-focus")||a.data("smartcrop-focus",[50,50]);var n=!0;if("new"!=i.compatibility&&("old"==i.compatibility||!d)){n=!1;var o=a.clone().removeClass("wpsmartcrop-image").removeAttr("data-smartcrop-focus");t("<div></div>").addClass("wpsmartcrop-overlay").append(o).insertAfter(a)}r(a,n);var c=!1;t(window).resize(function(){u(c),c=s(function(){r(a,n)})}),t(window).on("load",function(){r(a,n)}),a.on("wpsmartcrop-redraw",function(){r(a,n)})}}})}})}(jQuery),jQuery(document).ready(function(t){t("img.wpsmartcrop-image").wpsmartcrop()});
