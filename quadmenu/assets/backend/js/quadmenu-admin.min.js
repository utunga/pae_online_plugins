
+function(c){var d=function(f,e){this.options=e;this.$body=c(document.body);this.$element=c(f);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.quadmenu.modal")},this))}};d.VERSION="3.3.7";d.TRANSITION_DURATION=300;d.BACKDROP_TRANSITION_DURATION=150;d.DEFAULTS={backdrop:true,keyboard:true,show:true};d.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};d.prototype.show=function(h){var f=this;var g=c.Event("show.quadmenu.modal",{relatedTarget:h});this.$element.trigger(g);if(this.isShown||g.isDefaultPrevented()){return}this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.quadmenu.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.quadmenu.modal",function(){f.$element.one("mouseup.dismiss.quadmenu.modal",function(i){if(c(i.target).is(f.$element)){f.ignoreBackdropClick=true}})});this.backdrop(function(){var j=c.support.transition&&f.$element.hasClass("fade");if(!f.$element.parent().length){f.$element.appendTo(f.$body)}f.$element.show().scrollTop(0);f.adjustDialog();if(j){f.$element[0].offsetWidth}f.$element.addClass("in");f.enforceFocus();var i=c.Event("shown.quadmenu.modal",{relatedTarget:h});j?f.$dialog.one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(d.TRANSITION_DURATION):f.$element.trigger("focus").trigger(i)})};d.prototype.hide=function(f){if(f){f.preventDefault()}f=c.Event("hide.quadmenu.modal");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();this.resize();c(document).off("focusin.quadmenu.modal");this.$element.removeClass("in").off("click.dismiss.quadmenu.modal").off("mouseup.dismiss.quadmenu.modal");this.$dialog.off("mousedown.dismiss.quadmenu.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideQuadMenuModal,this)).emulateTransitionEnd(d.TRANSITION_DURATION):this.hideQuadMenuModal()};d.prototype.enforceFocus=function(){c(document).off("focusin.quadmenu.modal").on("focusin.quadmenu.modal",c.proxy(function(f){if(document!==f.target&&this.$element[0]!==f.target&&!this.$element.has(f.target).length){this.$element.trigger("focus")}},this))};d.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.quadmenu.modal",c.proxy(function(f){f.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keydown.dismiss.quadmenu.modal")}}};d.prototype.resize=function(){if(this.isShown){c(window).on("resize.quadmenu.modal",c.proxy(this.handleUpdate,this))}else{c(window).off("resize.quadmenu.modal")}};d.prototype.hideQuadMenuModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.quadmenu.modal")})};d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};d.prototype.backdrop=function(i){var h=this;var f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=c.support.transition&&f;this.$backdrop=c(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.quadmenu.modal",c.proxy(function(j){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(j.target!==j.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(e){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!i){return}e?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(d.BACKDROP_TRANSITION_DURATION):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){h.removeBackdrop();i&&i()};c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(d.BACKDROP_TRANSITION_DURATION):g()}else{if(i){i()}}}};d.prototype.handleUpdate=function(){this.adjustDialog()};d.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};d.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};d.prototype.checkScrollbar=function(){var f=window.innerWidth;if(!f){var e=document.documentElement.getBoundingClientRect();f=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<f;this.scrollbarWidth=this.measureScrollbar()};d.prototype.setScrollbar=function(){var e=parseInt((this.$body.css("padding-right")||0),10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing){this.$body.css("padding-right",e+this.scrollbarWidth)}};d.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};d.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure";this.$body.append(f);var e=f.offsetWidth-f.clientWidth;this.$body[0].removeChild(f);return e};function b(e,f){return this.each(function(){var i=c(this);var h=i.data("bs.modal");var g=c.extend({},d.DEFAULTS,i.data(),typeof e=="object"&&e);if(!h){i.data("bs.modal",(h=new d(this,g)))}if(typeof e=="string"){h[e](f)}else{if(g.show){h.show(f)}}})}var a=c.fn.modal;c.fn.modal=b;c.fn.modal.Constructor=d;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.quadmenu.modal.data-api",'[data-quadmenu="modal"]',function(j){var i=c(this);var g=i.attr("href");var f=c(i.attr("data-target")||(g&&g.replace(/.*(?=#[^\s]+$)/,"")));var h=f.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(g)&&g},f.data(),i.data());if(i.is("a")){j.preventDefault()}f.one("show.quadmenu.modal",function(e){if(e.isDefaultPrevented()){return}f.one("hidden.quadmenu.modal",function(){i.is(":visible")&&i.trigger("focus")})});b.call(f,h,this)})}(jQuery);+function(c){var d=function(f){this.element=c(f)};d.VERSION="3.3.7";d.TRANSITION_DURATION=150;d.prototype.show=function(){var l=this.element;var h=l.closest("ul:not(.dropdown-menu)");var g=l.data("target");if(!g){g=l.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var j=h.find(".active:last a");var k=c.Event("hide.quadmenu.tab",{relatedTarget:l[0]});var i=c.Event("show.quadmenu.tab",{relatedTarget:j[0]});j.trigger(k);l.trigger(i);if(i.isDefaultPrevented()||k.isDefaultPrevented()){return}var f=c(g);this.activate(l.closest("li"),h);this.activate(f,f.parent(),function(){j.trigger({type:"hidden.quadmenu.tab",relatedTarget:l[0]});l.trigger({type:"shown.quadmenu.tab",relatedTarget:j[0]})})};d.prototype.activate=function(h,g,k){var f=g.find("> .active");var j=k&&c.support.transition&&(f.length&&f.hasClass("fade")||!!g.find("> .fade").length);function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-quadmenu="tab"]').attr("aria-expanded",false);h.addClass("active").find('[data-quadmenu="tab"]').attr("aria-expanded",true);if(j){h[0].offsetWidth;h.addClass("in")}else{h.removeClass("fade")}if(h.parent(".dropdown-menu").length){h.closest("li.dropdown").addClass("active").end().find('[data-quadmenu="tab"]').attr("aria-expanded",true)}k&&k()}f.length&&j?f.one("bsTransitionEnd",i).emulateTransitionEnd(d.TRANSITION_DURATION):i();f.removeClass("in")};function b(f){return this.each(function(){var h=c(this);var g=h.data("bs.tab");if(!g){h.data("bs.tab",(g=new d(this)))}if(typeof f=="string"){g[f]()}})}var a=c.fn.tab;c.fn.tab=b;c.fn.tab.Constructor=d;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};var e=function(f){f.preventDefault();b.call(c(this),"show")};c(document).on("click.quadmenu.tab.data-api",'[data-quadmenu="tab"]',e).on("click.quadmenu.tab.data-api",'[data-quadmenu="pill"]',e)}(jQuery);+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}return false}b.fn.emulateTransitionEnd=function(e){var d=false;var c=this;b(this).one("bsTransitionEnd",function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a();if(!b.support.transition){return}b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(c){if(b(c.target).is(this)){return c.handleObj.handler.apply(this,arguments)}}}})}(jQuery);(function(i){var a={},p;i.fn.serializeArrayAll=function(){var r=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(s,t){var u=jQuery(this).val();if(u==null){return u==null}else{if(this.type=="checkbox"&&this.checked==false){return{name:this.name,value:this.checked?this.value:""}}else{return jQuery.isArray(u)?jQuery.map(u,function(w,v){return{name:t.name,value:w.replace(r,"\r\n")}}):{name:t.name,value:u.replace(r,"\r\n")}}}}).get()};i.fn.extend({quadmenuItemData:function(u,v){u=u||"menu-item";var s={},t,r=["menu-item-db-id","menu-item-object-id","menu-item-object","menu-item-parent-id","menu-item-position","menu-item-type","menu-item-title","menu-item-url","menu-item-description","menu-item-attr-title","menu-item-target","menu-item-classes","menu-item-xfn","menu-item-quadmenu","menu-item-quadmenu-widget",];if(!v&&u=="menu-item"){v=this.find(".menu-item-data-db-id").val()}if(!v){return s}this.find("input").each(function(){var w;t=r.length;while(t--){if(u=="menu-item"){w=r[t]+"["+v+"]"}else{if(u=="add-menu-item"){w="menu-item["+v+"]["+r[t]+"]"}}if(this.name&&w==this.name){s[r[t]]=this.value}}});return s}});var g=function(r){r.on("click",function(v){v.preventDefault();var s={},t=r.parent().find(".spinner"),u=r.parent();s[-1]={"menu-item-status":"publish","menu-item-title":r.data("menu_item_title").replace(/\%/g,r.siblings().length),"menu-item-url":r.data("menu_item_url"),"menu-item-type":r.data("menu_item_type"),"menu-item-quadmenu":r.data("menu_item_quadmenu"),"menu-item-parent-id":r.data("menu_item_parent_id"),};l(t,u,s)})};var n=function(r){r.on("click",".edit:first",function(s){s.preventDefault();s.stopPropagation();r.toggleClass("open");i(".quadmenu-column-item").not(r).removeClass("open")});r.on("click",".remove:first",function(t){var s=i("form",r);i.ajax({type:"POST",url:ajaxurl,data:i.param(s.serializeArrayAll())+"&"+i.param({menu_id:i("#menu").val(),menu_item_id:s.data("menu_item_id"),action:"quadmenu_delete_nav_menu_item",nonce:quadmenu.nonce}),beforeSend:function(){r.addClass("saving")},complete:function(){r.removeClass("saving").fadeOut().remove()},success:function(u){console.log(u.data);r.trigger("remove.quadmenu.item",[r])},})});return r};var j=function(s){if(s.hasClass("quadmenu-tab-pane-width")){var r=i(".quadmenu-setting-width",s);if(i("#menu-item-stretch").val()!==""){r.hide()}s.on("change",".menu-item-stretch",function(t){if(i(this).val()==""){r.fadeIn()}else{r.fadeOut()}})}};var h=function(r){r.on("keyup",".menu-item-title",function(s){var v=i(this).closest("form").data("menu_item_id"),t=i(this).val(),u=i("#quadmenu-title-"+v+"> span",r).add("#menu-to-edit > #menu-item-"+v+" > .menu-item-bar > .menu-item-handle > .item-title > .menu-item-title");setTimeout(function(){u.text(t)},200)})};var o=function(r){r.on("show.quadmenu.tab","li",function(v){var t=i(this),s=i(i(v.target).attr("href")),u=s.find(".spinner").first();if(s.data("loading")||s.data("loaded")||!t.data("menu_item_panel")){return}i.ajax({type:"POST",url:ajaxurl,data:i.param({menu_id:i("#menu").val(),menu_item_id:t.data("menu_item_id"),menu_item_panel:t.data("menu_item_panel"),action:"quadmenu_add_nav_menu_item_panel",nonce:quadmenu.nonce}),beforeSend:function(){s.data("loading",true);u.addClass("is-active")},complete:function(){s.removeData("loading");u.removeClass("is-active")},success:function(x){if(x.success!==true){alert(x.data);return}var w=i(x.data);s.data("loaded",true);s.append(w);q(s);b(s);j(s);h(s);c(s);f(s);e(s)},})})};var c=function(s){var r=null;i(".menu-item-media-upload",s).on("click",function(x){x.preventDefault();var u=i(this);var w=i(this).closest(".field-wrapper"),v=i(this).siblings(".edit-menu-item-media-thumbnail"),t=i(this).siblings(".edit-menu-item-media-thumbnail-id");if(r){r.open();return}r=wp.media.frames.media_uploader=wp.media({button:{text:quadmenu.add_background,close:true},library:{type:"image"},multiple:false});r.on("open",function(){var z=r.state().get("selection");var y=t.val();if(y){z.add(wp.media.attachment(y))}});r.on("select",function(){var z=r.state().get("selection").first().toJSON(),y=typeof z.sizes.thumbnail!=="undefined"?z.sizes.full.url:z.url,A=typeof z.sizes.thumbnail!=="undefined"?z.sizes.thumbnail.url:z.url;w.addClass("active");v.html('<img src="'+A+'" width="50" height="50" >');t.val(z.id).data("src",y).trigger("change");u.trigger("change")});r.open()});i(".menu-item-media-clear",s).on("click",function(x){x.preventDefault();var w=i(this).closest(".field-wrapper"),u=i(".field-background",s),v=i(this).siblings(".edit-menu-item-media-thumbnail"),t=i(this).siblings(".edit-menu-item-media-thumbnail-id");w.removeClass("active");v.html("");t.val("").removeData("src").trigger("change");u.removeAttr("style");return false})};var f=function(s){var r=i(".quadmenu-setting-background .field-background",s);i(".edit-menu-item-background-opacity",s).on("change",function(t){t.preventDefault();r.css("opacity",i(this).val()/100)});i(".edit-menu-item-background-origin",s).on("change",function(t){t.preventDefault();r.css("background-origin",i(this).val())});i(".edit-menu-item-background-position",s).on("change",function(t){t.preventDefault();r.css("background-position",i(this).val())});i(".edit-menu-item-background-size",s).on("change",function(t){t.preventDefault();r.css("background-size",i(this).val())});i(".edit-menu-item-background-repeat",s).on("change",function(t){t.preventDefault();r.css("background-repeat",i(this).val())});i(".edit-menu-item-media-thumbnail-id",s).on("change",function(t){t.preventDefault();if(!i(this).data("src")){return}r.css("background-image","url("+i(this).data("src")+")")})};var b=function(r){i(".quadmenu-setting-icon, .quadmenu-setting-login, .quadmenu-setting-logout",r).each(function(){var t=i(this),v=t.find(".button-icon"),w=i(".menu-item-icon, .menu-item-login, .menu-item-logout",t),s=t.find(".quadmenu-icons-scroll .icon"),u=t.find('input[type="search"]');u.on("keyup",function(x){x.preventDefault();setTimeout(function(){var y=u.val();if(y!==""){s.css({display:"none"});s.filter('[class*="'+y+'"]').css({display:"block"})}else{s.removeAttr("style")}},600)});s.on("click",function(y){y.preventDefault();i(this).addClass("selected").siblings().removeClass("selected");var x=i(this).find("i").attr("class");w.add(u).val(x).trigger("change");v.find("i").removeClass().addClass(x)});v.add(u).on("click",function(x){u.val("").trigger("keyup")})});r.on("change",".menu-item-icon",function(t){var v=i(this).closest("form").data("menu_item_id"),s=i(this).val(),u=i("#quadmenu-title-"+v,r);setTimeout(function(){u.find("i").removeClass().addClass(s)},200)})};var k=function(r){r.on("change",".quadmenu-setting-width",function(t){t.preventDefault();var s=i(this);setTimeout(function(){var u=s.find("option:selected");var v=i.map(u,function(w){if(w.value){return w.value}});r.removeClass(r.data("columns"));r.addClass(v.join(" ")).data("columns",v.join(" "))},400)});r.on("click",".contract:first",function(t){var s=r.find("select#menu-item-columns-width-sm > option:selected");if(s.prev().length){s.prev().prop("selected",true).trigger("change")}});r.on("click",".expand:first",function(t){var s=r.find("select#menu-item-columns-width-sm > option:selected");if(s.next().length){s.next().prop("selected",true).trigger("change")}});r.on("click",".add-quadmenu-column-item",function(t){var s=i(this);s.addClass("selected");i(".quadmenu-column-item").not(i(".quadmenu-column-item",i(this))).removeClass("open");i(".add-quadmenu-column-item").not(this).removeClass("selected");i("#menu-settings-column li").each(function(){var v=i(this).find(".submit-add-to-quadmenu-column-inside"),u=i(this).find(".submit-add-to-menu, .submit-add-to-quadmenu");i("#quadmenu_custom_nav_widgets").addClass("active");if(!v.length){var v=u.clone();v.val(quadmenu.add_to_column);v.removeClass("submit-add-to-menu submit-add-to-quadmenu button-secondary").addClass("submit-add-to-quadmenu-column-inside button-primary");u.before(v)}v.data("menu_item_parent_id",s.data("menu_item_parent_id"))});i("#menu-settings-column li").addClass("current-column").find("li input:checked").prop("checked",false)});return r};var m=function(r){r.on("change.quadmenu.settings","form",function(s){s.preventDefault();s.stopPropagation();return false});r.on("submit","form",function(t){t.preventDefault();t.stopPropagation();var s=i(this);i.ajax({type:"POST",url:ajaxurl,data:i.param(s.serializeArrayAll())+"&"+i.param({menu_id:i("#menu").val(),menu_item_id:s.data("menu_item_id"),action:"quadmenu_save_widget",nonce:quadmenu.nonce}),beforeSend:function(){r.addClass("saving")},complete:function(){r.removeClass("saving")},success:function(u){wpNavMenu.menusChanged=false;console.log(u.data)},})});r.on("click",".edit:first",function(t){var u=r.find(".widget"),s=r.find("form");if(!u.hasClass("open")&&!u.data("loaded")){i.ajax({type:"POST",url:ajaxurl,data:i.param({menu_id:i("#menu").val(),menu_item_id:s.data("menu_item_id"),widget:r.data("widget"),widget_id:r.data("widget_id"),action:"quadmenu_form_widget",nonce:quadmenu.nonce}),beforeSend:function(){r.addClass("saving")},complete:function(){r.removeClass("saving")},success:function(w){if(w.success!==true){alert(w.data);return}var v=i(w.data);s.html(v);u.toggleClass("open").data("loaded",true);setTimeout(function(){i(document).trigger("widget-added",[u])},200)},})}})};var e=function(r){i(".sortable-area",r).each(function(){var s=i(this);s.sortable({forcePlaceholderSize:true,items:s.data("sortable-items")||false,handle:s.data("sortable-handle")||false,connectWith:s.data("sortable-connect")||false,placeholder:s.data("drop-area")||"drop-area",over:function(t,u){i(this).closest(".quadmenu-column").addClass("hover")},out:function(t,u){i(this).closest(".quadmenu-column").removeClass("hover")},update:function(v,w){if(this===w.item.parent()[0]){if(w.sender==null){var x=i(this),u=i(w.item);i(s.data("sortable-items"),x).each(function(t,y){a[i(this).data("menu_item_id")]={"menu-item-position":t,"menu-item-parent-id":x.data("menu_item_parent_id")}});i.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_update_nav_menu_item",nonce:quadmenu.nonce,menu_id:i("#menu").val(),"menu-item":a},beforeSend:function(){u.addClass("saving")},complete:function(){u.removeClass("saving")},success:function(t){console.log(t.data)}})}}},receive:function(v,w){var x=i(this),u=i(w.item);x.find("> li").each(function(t,y){a[i(this).data("menu_item_id")]={"menu-item-position":t,"menu-item-parent-id":x.data("menu_item_parent_id")}});i.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_update_nav_menu_item",nonce:quadmenu.nonce,menu_id:i("#menu").val(),"menu-item":a},beforeSend:function(){u.addClass("saving")},success:function(t){u.removeClass("saving")}})},start:function(t,u){u.item.data("start_pos",u.item.index());u.placeholder.css({height:u.item.outerHeight()+"px",width:u.item.width()+"px"})},stop:function(u,v){v.item.removeAttr("style");var t=v.item.data("start_pos");if(t!==v.item.index()){}}})})};var d=function(r){var s=i("#quadmenu-settings");r.on("change.quadmenu.settings","form",function(u){u.preventDefault();var t=i(this);i.ajax({type:"POST",url:ajaxurl,data:i.param(t.serializeArrayAll())+"&"+i.param({menu_id:i("#menu").val(),menu_item_id:t.data("menu_item_id"),action:"quadmenu_save_nav_menu_item_settings",nonce:quadmenu.nonce}),beforeSend:function(){s.addClass("saving")},complete:function(){s.removeClass("saving")},success:function(v){console.log(v.data);wpNavMenu.menusChanged=false;t.trigger("save.quadmenu.settings",[t.data("menu_item_id"),t.serializeArrayAll()])}})})};var q=function(t){var r=i(".quadmenu-tabs",t),s=i(".quadmenu-columns",t);i(".quadmenu-tab, .quadmenu-panel",r).each(function(u,v){n(i(v))});i(".quadmenu-column",s).each(function(u,v){n(i(v));k(i(v))});i(".quadmenu-column-item",s).each(function(u,v){n(i(v))});i(".quadmenu-widget",s).each(function(u,v){m(i(v))});i(".submit-add-to-quadmenu-column, .submit-add-to-quadmenu-tab, .submit-add-to-quadmenu-panel",t).each(function(u,v){g(i(v))})};var l=function(u,v,s){var t=i(u),r=i(v);if(!r.length){return false}i.ajax({type:"POST",url:ajaxurl,data:{action:"quadmenu_add_nav_menu_item",nonce:quadmenu.nonce,menu_id:i("#menu").val(),"menu-item":s},beforeSend:function(){t.addClass("is-active")},complete:function(){t.removeClass("is-active")},success:function(x){if(x.success!==true){alert(x.data);return}var w=i("<ul>"+x.data+"</ul>");i(".quadmenu-tab, .quadmenu-panel, .quadmenu-column, .quadmenu-column-item",w).each(function(){n(i(this));b(i(this));e(i(this));d(i(this));if(i(this).hasClass("quadmenu-widget")){m(i(this))}if(i(this).hasClass("quadmenu-column")){k(i(this))}});i(".submit-add-to-quadmenu-column, .submit-add-to-quadmenu-tab, .submit-add-to-quadmenu-panel",w).each(function(){g(i(this))});r.append(w.contents()).trigger("add.quadmenu.item",[r])},})};i(document).on("click.quadmenu.submit",".submit-add-to-quadmenu, .submit-add-to-quadmenu-column-inside",function(w){w.preventDefault();var A=i(this),s={},B=i("#"+w.target.id.replace(/submit-/,"")),v=A.parent().find(".spinner"),u=B.find(".tabs-panel-active .categorychecklist li input:checked");var y=A.data("menu_item_parent_id")||false,x=y?i("#quadmenu-column-items-"+y):i("#menu-to-edit");if(!x.length){return false}if(w.target.id&&"submit-customlinkdiv"==w.target.id){var r=i("#custom-menu-item-url").val(),z=i("#custom-menu-item-name").val();if(""===r||"http://"==r){i("#customlinkdiv").addClass("form-invalid");return false}s[-1]={"menu-item-status":"publish","menu-item-type":"custom","menu-item-url":r,"menu-item-title":z,"menu-item-parent-id":y,}}else{if(w.target.id&&-1!=w.target.id.indexOf("submit-")&&u.length){u.each(function(){var D=i(this),E=/menu-item\[([^\]]*)/,C=E.exec(D.attr("name")),F="undefined"==typeof C[1]?0:parseInt(C[1],10);s[F]=D.closest("li").quadmenuItemData("add-menu-item",F);s[F]["menu-item-status"]="publish";s[F]["menu-item-parent-id"]=y})}else{return false}}l(v,x,s)});i(document).on("click",function(r){if(!i(r.target).is(".add-quadmenu-column-item")&&!i(r.target).is(".submit-add-to-quadmenu-column-inside")&&!i(r.target).closest("#menu-settings-column").length){i(".add-quadmenu-column-item").removeClass("selected");i("#menu-settings-column li").removeClass("current-column");i("#quadmenu_custom_nav_widgets").removeClass("active").removeClass("open")}});i(document).on("click.quadmenu.dropdown",".dropdown",function(r){i(this).addClass("open");i(".dropdown").not(i(this)).removeClass("open")});i(document).on("shown.quadmenu.modal","#modal_icons",function(u){b(i(this));var t=i(this),s=t.find(".save"),r=i(u.relatedTarget);t.data("target",r.attr("id"));s.on("click",function(z){z.preventDefault();var y=i(".menu-item-icon",t).val();if(!t.data("target")){return}var v=i("input#"+t.data("target")),x=v.closest(".redux-field"),w=x.find("h3"),A=w.find("i");v.val(y);if(A.length){A.remove()}w.prepend('<i class="'+y+'"></i>');t.modal("hide")})});i(document).on("add.quadmenu.item",function(s,r){r.find(".open").not(":last").removeClass("open")});i(document).on("remove.quadmenu.item",function(u,t){u.preventDefault();u.stopPropagation();if(!t.hasClass("quadmenu-panel")&&!t.hasClass("quadmenu-tab")){return}var s=t.closest(".dropdown"),r=t.closest(".quadmenu-tabs");if(!s.length){return}s.fadeOut().remove();setTimeout(function(){r.find(".dropdown").removeClass("open").first().addClass("open")},200)});i(document).on("mouseenter mouseleave","#menu-to-edit > li.menu-item",function(s){var u=i(this);if(u.hasClass("menu-item-quadmenu")){return}if(u.hasClass("menu-item-invalid")){return}u.addClass("menu-item-quadmenu menu-item-"+i("input.menu-item-data-object",u).val());var r=i("<span>").addClass("quadmenu_open").html(quadmenu.add_name),t=i("<span>").addClass("spinner");i(".item-title",u).append(r).append(t)});i(document).on("save.quadmenu.settings",".quadmenu-tab-pane-default",function(s,t,r){i(r).each(function(u,v){i("#edit-"+v.name+"-"+t).val(v.value).trigger("change")})});i(document).on("click.quadmenu.close",".quadmenu_close",function(t){var s=i("#menu-management"),r=i("#quadmenu-settings");r.remove();s.removeClass("open")});i(document).on("click.quadmenu.open",".quadmenu_open",function(w){w.preventDefault();var x=i(this).closest("li"),v=i(this).parent().find(".spinner"),t=x.find(".menu-item-settings input.menu-item-data-db-id").val(),s=parseInt(x.prop("class").match(/menu-item-depth-([0-9]+)/)[1]);var u=i("#menu-management"),r=i("#post-body",u);if(p&&p.readyState!=4){p.abort()}if(x.data("openning")){return false}p=i.ajax({type:"POST",url:ajaxurl,data:{menu_id:i("#menu").val(),menu_item_id:t,menu_item_depth:s,action:"quadmenu_add_nav_menu_item_settings",nonce:quadmenu.nonce,},beforeSend:function(){v.addClass("is-active");x.addClass("opening").data("openning",true)},complete:function(){v.removeClass("is-active");x.removeClass("openning").removeData("openning");if(wp.textWidgets!==undefined){wp.textWidgets.widgetControls={}}if(wp.mediaWidgets!==undefined){wp.mediaWidgets.widgetControls={}}if(wp.customHtmlWidgets!==undefined){wp.customHtmlWidgets.widgetControls={}}},success:function(y){if(y.success!==true){console.log(y);return}u.addClass("open");r.prepend(y.data);o(r);d(r);q(r);b(r);j(r);h(r);c(r);f(r);e(r);i("html,body").animate({scrollTop:i("#nav-menu-header").offset().top},"slow")}})});i(document).on("click.quadmenu.open",".quadmenu_modal",function(v){v.preventDefault();var w=i(this).closest("li"),u=i(this).parent().find(".spinner"),t=w.find(".menu-item-settings input.menu-item-data-db-id").val(),s=parseInt(w.prop("class").match(/menu-item-depth-([0-9]+)/)[1]);var r=i("#quadmenu_modal .modal-body");if(p&&p.readyState!=4){p.abort()}if(w.data("openning")){return false}p=i.ajax({type:"POST",url:ajaxurl,data:{menu_id:i("#menu").val(),menu_item_id:t,menu_item_depth:s,action:"quadmenu_add_nav_menu_item_settings",nonce:quadmenu.nonce,},beforeSend:function(){u.addClass("is-active");w.addClass("opening").data("openning",true)},complete:function(){u.removeClass("is-active");w.removeClass("openning").removeData("openning")},success:function(x){if(x.success!==true){console.log(x);return}r.prepend(x.data);r.modal("show");o(r);d(r);q(r);b(r);j(r);h(r);c(r);f(r);e(r)}})});i(document).on("click","ul.redux-group-menu > li",function(u){u.preventDefault();var t=i(this);if(!t.hasClass("active")){return}var r=t.attr("class").match(/quadmenu_theme_[\w-]*\b/);if(r){var s=r.toString().replace("quadmenu_theme_","");i("#quadmenu_duplicate_theme").data("theme",s).fadeIn();i("#quadmenu_delete_theme").data("theme",s).fadeIn();return}i("#quadmenu_duplicate_theme").fadeOut();i("#quadmenu_delete_theme").fadeOut()});i(document).on("click","#quadmenu_add_theme ,#quadmenu_delete_theme",function(u){u.preventDefault();var t=i(this),s=i(this).parent().parent().find(".spinner"),r=t.data("theme");i.ajax({type:"POST",url:ajaxurl,data:{action:t.attr("id"),nonce:quadmenu.nonce,current_theme:r,},beforeSend:function(){s.addClass("is-active")},complete:function(){s.removeClass("is-active")},success:function(v){if(v.success!==true){alert(v.data);return}window.location.href=v.data}})});i(document).on("click.quadmenu.import",".quadmenu_import",function(u){u.preventDefault();var t=i(this),s=t.closest(".theme"),r=s.find(".spinner");if(s.data("importing")){return false}if(!s.data("plugin")){return false}i.ajax({type:"POST",url:ajaxurl,data:{plugin:s.data("plugin"),action:"quadmenu_compatibility_import",nonce:quadmenu.nonce,},beforeSend:function(){r.addClass("is-active");s.addClass("importing").data("importing",true)},complete:function(){r.removeClass("is-active");s.removeClass("importing").removeData("importing")},success:function(v){if(v.success!==true){alert(v.data);return}window.location.href=v.data}})});i(document).on("ready",function(r){if(i("#last_tab").val()!==""){i("ul.redux-group-menu > li."+i("#last_tab").val()+" > a").click();return}i("li.redux-group-tab-link-li.empty_section").remove();i(".current_theme select").on("change rightnow",function(t){var s=i(this).closest(".redux-group-tab").find("span.current_theme");s.empty().append(i(this).val())}).triggerHandler("rightnow")});i(".redux-container-border .redux-color-init .redux-color").data("alpha",true)})(jQuery);